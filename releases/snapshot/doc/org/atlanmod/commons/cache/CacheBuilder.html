<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>CacheBuilder (Commons 1.1.0-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CacheBuilder (Commons 1.1.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":1,"i3":1,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CacheBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.atlanmod.commons.cache</a></div>
<h2 title="Interface CacheBuilder" class="title">Interface CacheBuilder&lt;K,&#8203;V&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - the base key type for <a href="Cache.html" title="interface in org.atlanmod.commons.cache"><code>Cache</code></a>s created by this builder</dd>
<dd><code>V</code> - the base value type for <a href="Cache.html" title="interface in org.atlanmod.commons.cache"><code>Cache</code></a> created by this builder</dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">CacheBuilder&lt;K,&#8203;V&gt;</span></pre>
<div class="block">A builder of <a href="Cache.html" title="interface in org.atlanmod.commons.cache"><code>Cache</code></a> instances.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>&lt;K1 extends <a href="CacheBuilder.html" title="type parameter in CacheBuilder">K</a>,&#8203;V1 extends <a href="CacheBuilder.html" title="type parameter in CacheBuilder">V</a>&gt;<br><a href="Cache.html" title="interface in org.atlanmod.commons.cache">Cache</a>&lt;K1,&#8203;V1&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#build()">build</a></span>()</code></th>
<td class="colLast">
<div class="block">Builds a <a href="Cache.html" title="interface in org.atlanmod.commons.cache"><code>Cache</code></a> which does not automatically load values when keys are requested.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>&lt;K1 extends <a href="CacheBuilder.html" title="type parameter in CacheBuilder">K</a>,&#8203;V1 extends <a href="CacheBuilder.html" title="type parameter in CacheBuilder">V</a>&gt;<br><a href="Cache.html" title="interface in org.atlanmod.commons.cache">Cache</a>&lt;K1,&#8203;V1&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#build(java.util.function.Function)">build</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Function</a>&lt;? super K1,&#8203;? extends V1&gt;&nbsp;mappingFunction)</code></th>
<td class="colLast">
<div class="block">Builds a <a href="Cache.html" title="interface in org.atlanmod.commons.cache"><code>Cache</code></a>, which either returns an already-loaded value for a given key or atomically computes or
 retrieves it using the supplied <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function" class="externalLink"><code>Function</code></a>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static <a href="CacheBuilder.html" title="interface in org.atlanmod.commons.cache">CacheBuilder</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#builder()">builder</a></span>()</code></th>
<td class="colLast">
<div class="block">Creates a new <code>CacheBuilder</code> with default settings, including strong keys, strong values, and no automatic
 eviction of any kind.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static &lt;K,&#8203;V&gt;<br><a href="Cache.html" title="interface in org.atlanmod.commons.cache">Cache</a>&lt;K,&#8203;V&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#empty()">empty</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns an immutable empty <a href="Cache.html" title="interface in org.atlanmod.commons.cache"><code>Cache</code></a> that does nothing.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="CacheBuilder.html" title="interface in org.atlanmod.commons.cache">CacheBuilder</a>&lt;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">K</a>,&#8203;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initialCapacity(int)">initialCapacity</a></span>&#8203;(int&nbsp;initialCapacity)</code></th>
<td class="colLast">
<div class="block">Sets the minimum total size for the internal data structures.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="CacheBuilder.html" title="interface in org.atlanmod.commons.cache">CacheBuilder</a>&lt;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">K</a>,&#8203;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#maximumSize(long)">maximumSize</a></span>&#8203;(long&nbsp;maximumSize)</code></th>
<td class="colLast">
<div class="block">Specifies the maximum number of entries the cache may contain.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>&lt;K1 extends <a href="CacheBuilder.html" title="type parameter in CacheBuilder">K</a>,&#8203;V1 extends <a href="CacheBuilder.html" title="type parameter in CacheBuilder">V</a>&gt;<br><a href="CacheBuilder.html" title="interface in org.atlanmod.commons.cache">CacheBuilder</a>&lt;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">K</a>,&#8203;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#maximumWeight(long,java.util.function.ToIntBiFunction)">maximumWeight</a></span>&#8203;(long&nbsp;maximumWeight,
             <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/ToIntBiFunction.html?is-external=true" title="class or interface in java.util.function" class="externalLink">ToIntBiFunction</a>&lt;? super K1,&#8203;? extends V1&gt;&nbsp;weigher)</code></th>
<td class="colLast">
<div class="block">Specifies the maximum weight of entries the cache may contain.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="CacheBuilder.html" title="interface in org.atlanmod.commons.cache">CacheBuilder</a>&lt;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">K</a>,&#8203;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#recordStats()">recordStats</a></span>()</code></th>
<td class="colLast">
<div class="block">Enables the accumulation of <a href="CacheStats.html" title="class in org.atlanmod.commons.cache"><code>CacheStats</code></a> during the operation of the cache.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="CacheBuilder.html" title="interface in org.atlanmod.commons.cache">CacheBuilder</a>&lt;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">K</a>,&#8203;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#softValues()">softValues</a></span>()</code></th>
<td class="colLast">
<div class="block">Specifies that each value (not key) stored in the cache should be wrapped in a <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ref/SoftReference.html?is-external=true" title="class or interface in java.lang.ref" class="externalLink"><code>SoftReference</code></a> (by default,
 strong references are used).</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="CacheBuilder.html" title="interface in org.atlanmod.commons.cache">CacheBuilder</a>&lt;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">K</a>,&#8203;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#weakKeys()">weakKeys</a></span>()</code></th>
<td class="colLast">
<div class="block">Specifies that each key (not value) stored in the cache should be wrapped in a <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ref/WeakReference.html?is-external=true" title="class or interface in java.lang.ref" class="externalLink"><code>WeakReference</code></a> (by default,
 strong references are used).</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="CacheBuilder.html" title="interface in org.atlanmod.commons.cache">CacheBuilder</a>&lt;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">K</a>,&#8203;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#weakValues()">weakValues</a></span>()</code></th>
<td class="colLast">
<div class="block">Specifies that each value (not key) stored in the cache should be wrapped in a <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ref/WeakReference.html?is-external=true" title="class or interface in java.lang.ref" class="externalLink"><code>WeakReference</code></a> (by default,
 strong references are used).</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="empty()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>empty</h4>
<pre class="methodSignature">@Nonnull
static&nbsp;&lt;K,&#8203;V&gt;&nbsp;<a href="Cache.html" title="interface in org.atlanmod.commons.cache">Cache</a>&lt;K,&#8203;V&gt;&nbsp;empty()</pre>
<div class="block">Returns an immutable empty <a href="Cache.html" title="interface in org.atlanmod.commons.cache"><code>Cache</code></a> that does nothing.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - the type of keys maintained by this cache</dd>
<dd><code>V</code> - the type of mapped values</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new cache</dd>
</dl>
</li>
</ul>
<a id="builder()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>builder</h4>
<pre class="methodSignature">@Nonnull
static&nbsp;<a href="CacheBuilder.html" title="interface in org.atlanmod.commons.cache">CacheBuilder</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&gt;&nbsp;builder()</pre>
<div class="block">Creates a new <code>CacheBuilder</code> with default settings, including strong keys, strong values, and no automatic
 eviction of any kind.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new builder</dd>
</dl>
</li>
</ul>
<a id="recordStats()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordStats</h4>
<pre class="methodSignature">@Nonnull
<a href="CacheBuilder.html" title="interface in org.atlanmod.commons.cache">CacheBuilder</a>&lt;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">K</a>,&#8203;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">V</a>&gt;&nbsp;recordStats()</pre>
<div class="block">Enables the accumulation of <a href="CacheStats.html" title="class in org.atlanmod.commons.cache"><code>CacheStats</code></a> during the operation of the cache.
 <p>
 Without this <a href="Cache.html#stats()"><code>Cache.stats()</code></a> will return zero for all statistics. Note that recording statistics requires
 bookkeeping to be performed with each operation, and thus imposes a performance penalty on cache operation.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder (for chaining)</dd>
</dl>
</li>
</ul>
<a id="initialCapacity(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialCapacity</h4>
<pre class="methodSignature">@Nonnull
<a href="CacheBuilder.html" title="interface in org.atlanmod.commons.cache">CacheBuilder</a>&lt;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">K</a>,&#8203;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">V</a>&gt;&nbsp;initialCapacity&#8203;(@Nonnegative
                                        int&nbsp;initialCapacity)</pre>
<div class="block">Sets the minimum total size for the internal data structures.
 <p>
 Providing a large enough estimate at construction time avoids the need for expensive resizing operations later,
 but setting this value unnecessarily high wastes memory.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>initialCapacity</code> - minimum total size for the internal data structures</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder instance</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>initialCapacity</code> is negative</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if an initial capacity was already set</dd>
</dl>
</li>
</ul>
<a id="maximumSize(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maximumSize</h4>
<pre class="methodSignature">@Nonnull
<a href="CacheBuilder.html" title="interface in org.atlanmod.commons.cache">CacheBuilder</a>&lt;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">K</a>,&#8203;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">V</a>&gt;&nbsp;maximumSize&#8203;(@Nonnegative
                                    long&nbsp;maximumSize)</pre>
<div class="block">Specifies the maximum number of entries the cache may contain.
 <p>
 Note that the cache <b>may evict an entry before this limit is exceeded or temporarily exceed the threshold while
 evicting</b>. As the cache size grows close to the maximum, the cache evicts entries that are less likely to be
 used again. For example, the cache may evict an entry because it hasn't been used recently or very often.
 <p>
 When <code>size</code> is zero, elements will be evicted immediately after being loaded into the cache. This can be
 useful in testing, or to disable caching temporarily without a code change.
 <p>
 This feature cannot be used in conjunction with <a href="#maximumWeight(long,java.util.function.ToIntBiFunction)"><code>maximumWeight(long, java.util.function.ToIntBiFunction&lt;? super K1, ? extends V1&gt;)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maximumSize</code> - the maximum size of the cache</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder (for chaining)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>maximumSize</code> is negative</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if a maximum size or weight was already set</dd>
</dl>
</li>
</ul>
<a id="maximumWeight(long,java.util.function.ToIntBiFunction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maximumWeight</h4>
<pre class="methodSignature">&lt;K1 extends <a href="CacheBuilder.html" title="type parameter in CacheBuilder">K</a>,&#8203;V1 extends <a href="CacheBuilder.html" title="type parameter in CacheBuilder">V</a>&gt;&nbsp;<a href="CacheBuilder.html" title="interface in org.atlanmod.commons.cache">CacheBuilder</a>&lt;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">K</a>,&#8203;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">V</a>&gt;&nbsp;maximumWeight&#8203;(@Nonnegative
                                                                        long&nbsp;maximumWeight,
                                                                        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/ToIntBiFunction.html?is-external=true" title="class or interface in java.util.function" class="externalLink">ToIntBiFunction</a>&lt;? super K1,&#8203;? extends V1&gt;&nbsp;weigher)</pre>
<div class="block">Specifies the maximum weight of entries the cache may contain.
 <p>
 Weight is determined using the <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/ToIntBiFunction.html?is-external=true" title="class or interface in java.util.function" class="externalLink"><code>ToIntBiFunction</code></a> specified with <code>weigher</code>. Weights are measured and
 recorded when entries are inserted into or updated in the cache, and are thus effectively static during the
 lifetime of a cache entry.
 <p>
 Note that the cache <b>may evict an entry before this limit is exceeded or temporarily exceed the threshold while
 evicting</b>. As the cache size grows close to the maximum, the cache evicts entries that are less likely to be
 used again. For example, the cache may evict an entry because it hasn't been used recently or very often.
 <p>
 When <code>maximumWeight</code> is zero, elements will be evicted immediately after being loaded into cache. This can
 be useful in testing, or to disable caching temporarily without a code change.
 <p>
 Note that weight is only used to determine whether the cache is over capacity; it has no effect on selecting
 which entry should be evicted next.
 <p>
 This feature cannot be used in conjunction with <a href="#maximumSize(long)"><code>maximumSize(long)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maximumWeight</code> - the maximum total weight of entries the cache may contain</dd>
<dd><code>weigher</code> - the weigher to use in calculating the weight of cache entries</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder (for chaining)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if <code>maximumWeight</code> is negative</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if a maximum weight or size was already set</dd>
</dl>
</li>
</ul>
<a id="weakKeys()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>weakKeys</h4>
<pre class="methodSignature">@Nonnull
<a href="CacheBuilder.html" title="interface in org.atlanmod.commons.cache">CacheBuilder</a>&lt;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">K</a>,&#8203;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">V</a>&gt;&nbsp;weakKeys()</pre>
<div class="block">Specifies that each key (not value) stored in the cache should be wrapped in a <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ref/WeakReference.html?is-external=true" title="class or interface in java.lang.ref" class="externalLink"><code>WeakReference</code></a> (by default,
 strong references are used).
 <p>
 <b>WARNING:</b> when this method is used, the resulting cache will use identity (<code>==</code>) comparison to
 determine equality of keys.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder (for chaining)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if the key strength was already set or the writer was set</dd>
</dl>
</li>
</ul>
<a id="weakValues()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>weakValues</h4>
<pre class="methodSignature">@Nonnull
<a href="CacheBuilder.html" title="interface in org.atlanmod.commons.cache">CacheBuilder</a>&lt;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">K</a>,&#8203;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">V</a>&gt;&nbsp;weakValues()</pre>
<div class="block">Specifies that each value (not key) stored in the cache should be wrapped in a <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ref/WeakReference.html?is-external=true" title="class or interface in java.lang.ref" class="externalLink"><code>WeakReference</code></a> (by default,
 strong references are used).
 <p>
 Weak values will be garbage collected once they are weakly reachable. This makes them a poor candidate for
 caching; consider <a href="#softValues()"><code>softValues()</code></a> instead.
 <p>
 <b>WARNING:</b> when this method is used, the resulting cache will use identity (<code>==</code>) comparison to
 determine equality of values.
 <p>
 Entries with values that have been garbage collected may be counted in <a href="Cache.html#size()"><code>Cache.size()</code></a>, but will never be
 visible to read or write operations; such entries are cleaned up as part of the routine maintenance described in
 the class javadoc.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder instance</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if the value strength was already set</dd>
</dl>
</li>
</ul>
<a id="softValues()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>softValues</h4>
<pre class="methodSignature">@Nonnull
<a href="CacheBuilder.html" title="interface in org.atlanmod.commons.cache">CacheBuilder</a>&lt;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">K</a>,&#8203;<a href="CacheBuilder.html" title="type parameter in CacheBuilder">V</a>&gt;&nbsp;softValues()</pre>
<div class="block">Specifies that each value (not key) stored in the cache should be wrapped in a <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ref/SoftReference.html?is-external=true" title="class or interface in java.lang.ref" class="externalLink"><code>SoftReference</code></a> (by default,
 strong references are used).
 <p>
 Softly-referenced objects will be garbage-collected in a <i>globally</i> least-recently-used manner, in response
 to memory demand.
 <p>
 <b>WARNING:</b> when this method is used, the resulting cache will use identity (<code>==</code>) comparison to
 determine equality of values.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder (for chaining)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if the value strength was already set</dd>
</dl>
</li>
</ul>
<a id="build()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>build</h4>
<pre class="methodSignature">@Nonnull
&lt;K1 extends <a href="CacheBuilder.html" title="type parameter in CacheBuilder">K</a>,&#8203;V1 extends <a href="CacheBuilder.html" title="type parameter in CacheBuilder">V</a>&gt;&nbsp;<a href="Cache.html" title="interface in org.atlanmod.commons.cache">Cache</a>&lt;K1,&#8203;V1&gt;&nbsp;build()</pre>
<div class="block">Builds a <a href="Cache.html" title="interface in org.atlanmod.commons.cache"><code>Cache</code></a> which does not automatically load values when keys are requested.
 <p>
 Consider <a href="#build(java.util.function.Function)"><code>build(Function)</code></a> instead, if it is feasible to implement a <code>CacheLoader</code>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K1</code> - the key type of the cache</dd>
<dd><code>V1</code> - the value type of the cache</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new cache</dd>
</dl>
</li>
</ul>
<a id="build(java.util.function.Function)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>build</h4>
<pre class="methodSignature">@Nonnull
&lt;K1 extends <a href="CacheBuilder.html" title="type parameter in CacheBuilder">K</a>,&#8203;V1 extends <a href="CacheBuilder.html" title="type parameter in CacheBuilder">V</a>&gt;&nbsp;<a href="Cache.html" title="interface in org.atlanmod.commons.cache">Cache</a>&lt;K1,&#8203;V1&gt;&nbsp;build&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Function</a>&lt;? super K1,&#8203;? extends V1&gt;&nbsp;mappingFunction)</pre>
<div class="block">Builds a <a href="Cache.html" title="interface in org.atlanmod.commons.cache"><code>Cache</code></a>, which either returns an already-loaded value for a given key or atomically computes or
 retrieves it using the supplied <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Function.html?is-external=true" title="class or interface in java.util.function" class="externalLink"><code>Function</code></a>. If another thread is currently loading the value for this key,
 simply waits for that thread to finish and returns its loaded value. Note that multiple threads can concurrently
 load values for distinct keys.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K1</code> - the key type of the loader</dd>
<dd><code>V1</code> - the value type of the loader</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mappingFunction</code> - the function used to obtain new values</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new cache</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CacheBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2017&#x2013;2021 <a href="https://www.atlanmod.org">Atlanmod</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
